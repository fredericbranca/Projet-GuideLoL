{% extends 'base.html.twig' %}

{% block title %}Guide
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('css/guide.css') }}">
{% endblock %}

{% block body %}
	<section id="guide">
		<div id="introduction">

			<h1>Guide :
				{{ guide.champion }}
				{{ guide.voie }}
				-
				{{ guide.titre }}</h1>

		</div>

		{# Section Rune #}
		<section id="rune">

			<h2>Rune</h2>

			{% for groupeRunes in guide.groupeRunes %}

				<div id="groupeRunes">

					<div>Titre :
						{{ groupeRunes.titre }}</div>
					<div>Commentaire :
						{{ groupeRunes.commentaire }}</div>

					<div id="arbre">
						{% set primaire = [] %}
						{% set secondaire = [] %}
						{% set bonus = [] %}
						{% for choixRunesPages in groupeRunes.choixRunesPages %}
							{% for choixArbres in choixRunesPages.choixArbres %}
								{% if choixArbres.type is same as("Primaire") %}
									{% for rune in choixArbres.choixRunes %}
										{% set primaire = primaire|merge([rune]) %}
									{% endfor %}
								{% else %}
									{% for rune in choixArbres.choixRunes %}
										{% set secondaire = secondaire|merge([rune]) %}
									{% endfor %}
								{% endif %}
							{% endfor %}
							{% for choixStatistiquesBonus in choixRunesPages.choixStatistiquesBonus %}
								{% set bonus = bonus|merge([choixStatistiquesBonus]) %}
							{% endfor %}
						{% endfor %}

						<div
							id="Primaire">
							{# Tri et affichage des runes primaires #}
							{% for type in ['Primary', 'Secondary1', 'Secondary2', 'Secondary3'] %}
								{% for rune in primaire %}
									{% if rune.runeType == type %}
										<img style="width: 40px; height: auto" src="{{ img_url }}/{{ runes_data[rune.id].icon }}" alt="{{ runes_data[rune.id].name }}">
									{% endif %}
								{% endfor %}
							{% endfor %}
						</div>

						<div
							id="Secondaire">
							{# Tri et affichage des runes secondaires #}
							{% for type in ['Secondary1', 'Secondary2', 'Secondary3'] %}
								{% for rune in secondaire %}
									{% if rune.runeType == type %}
										<img style="width: 40px; height: auto" src="{{ img_url }}/{{ runes_data[rune.id].icon }}" alt="{{ runes_data[rune.id].name }}">
									{% endif %}
								{% endfor %}
							{% endfor %}
						</div>

						<div
							id="bonus">
							{# Tri et affichage des bonus #}
							{% for i in 1..3 %}
								{% for bonusData in bonus %}
									{% if bonusData.bonusLine == i %}
										<img style="width: 40px; height: auto" src="{{ img_url }}/{{ bonusData.icon }}" alt="">
										{{ bonusData.bonusValue }}
									{% endif %}
								{% endfor %}
							{% endfor %}
						</div>

					</div>

				</div>
			{% endfor %}

		</section>

		{# Secion Sort d'invocateur #}
		<section id="sortInvocateur">

			<h2>Sort d'invocateur</h2>

			{% for groupeSortsInvocateur in guide.groupeSortsInvocateur %}
				<div id="groupeSortInvocateur">

					<div>Titre :
						{{ groupeSortsInvocateur.titre }}</div>
					<div>Commentaire :
						{{ groupeSortsInvocateur.commentaire }}</div>

					{% for choixSortInvocateur in groupeSortsInvocateur.choixSortInvocateur %}
						<img src="{{ img_url }}/spell/{{ list_sorts_invocateur[choixSortInvocateur.id].image }}" alt="{{ list_sorts_invocateur[choixSortInvocateur.id].name }}">
					{% endfor %}

				</div>
			{% endfor %}

		</section>

		{# Secion Item #}

		<section id="item">

			<h2>Item</h2>

			{% for groupeEnsemblesItems in guide.groupeEnsemblesItems %}

				<ul id="ensemble">

					<h3>Ensemble</h3>

					<div>Titre :
						{{ groupeEnsemblesItems.titre }}</div>

					{% for itemsGroups in groupeEnsemblesItems.associationsEnsemblesItemsGroups %}

						<li id="groupeItems">

							<div>Titre :
								{{ itemsGroups.titre }}</div>
							<div>Commentaire :
								{{ itemsGroups.commentaire }}</div>

							{% for choixItems in itemsGroups.choixItems %}
								<img style="width: 40px; height: auto;" src="{{ img_url }}/item/{{ list_items[choixItems.id].image }}" alt="{{ list_items[choixItems.id].name }}">
							{% endfor %}

						</li>

					{% endfor %}

				</ul>

			{% endfor %}

		</section>

		{# Sectin compétence #}
		<section id="competence">

			<h2>Compétence</h2>

			{% for groupesCompetences in guide.groupesCompetences %}

				<div id="groupeCompetences">

					<div>Titre :
						{{ groupesCompetences.titre }}</div>
					<div>Commentaire :
						{{ groupesCompetences.commentaire }}</div>

					<div class="competence-passive">
						<img src="{{ img_url }}/passive/{{ champion.passive.image.full }}" alt="{{ champion.passive.name }}">
						Compétence passive :
						{{ champion.passive.name }}
					</div>

					{% for choixCompetencesNiveaux in groupesCompetences.choixCompetencesNiveaux %}

						<div class="competence">
							{% set index = loop.index0 %}

							{% for competence in choixCompetencesNiveaux.competences %}
								<img src="{{ img_url }}/spell/{{ champion.spells[index].image.full }}" alt="{{ champion.spells[index].name }}">

								<div class="niveaux">
									{% for niveau in 1..18 %}
										<div class="case{% if niveau in choixCompetencesNiveaux.niveaux %} active{% endif %}">
											{% if niveau in choixCompetencesNiveaux.niveaux %}
												<span>{{ niveau }}</span>
											{% endif %}
										</div>
									{% endfor %}
								</div>

							{% endfor %}
						</div>

					{% endfor %}

				</div>

			{% endfor %}

		</section>
	</section>
{% endblock %}
