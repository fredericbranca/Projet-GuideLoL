{% extends 'base.html.twig' %}

{% block title %}Liste des guides

	{% block meta %}Recherhe d'un guide
	{% endblock %}

	{% block additional_css %}
		<link rel="stylesheet" href="{{ asset('css/guide-list.css') }}">
	{% endblock %}


{% endblock %}

{% block body %}

	<div class="wrapper-recherche-guide">

		<div class="content-page">


			<div class="content-guide-list left-col">

				<h1>Liste des Guides</h1>

				{{ form_start(filtre_form, {'attr': {'id': 'form-guide-filter'}}) }}
					<div>
						<input type="search" id="guide-filtre-champion" class="input-champion-search" autocomplete="off">
						<a href="{{ path('app_champions') }}">Voir les champions >></a>
						<span id="clear-champion-btn">Effacer</span>
						<span id="clear-btn">Effacer tout le formulaire</span>
						<span class="search-result"></span>
					</div>
					<div>
						{{ form_row(filtre_form.role) }}
					</div>
					{{ form_widget(filtre_form.champion) }}
				{{ form_end(filtre_form) }}

				<div class="listing-guide">

					{% for guide in guides %}
						<a class="listing-item" href="/guide/{{ guide.id }}">
							<div class="note-guide">
								Test
							</div>
							<div class="champion-guide">
								<img src="{{ img_url }}/champion/{{ guide.champion.id }}.png.webp" alt="{{ guide.champion }}">
							</div>
							<div class="infos-guide">
								<h2 class="titre-guide">
									<img src="{{ img_url }}/role/{{ guide.voie }}.webp" alt="">
									{{ guide.titre }}
								</h2>
								<span class="user-infos">
									Guide créé par
									{{ guide.user }}
									{{ guide.modifiedAt ? ('modifié le ' ~ guide.modifiedAt|date("m/d/Y")) : ('créé le ' ~ guide.createdAt|date("m/d/Y")) }}
								</span>
							</div>
						</a>
					{% endfor %}

				</div>
				{{ knp_pagination_render(guides) }}

			</div>

			<div class="right-col">
				<div>test</div>
				<div>test</div>
				<div>test</div>
				<div>test</div>
			</div>

		</div>

	</div>

	<script src="{{ asset('js/searchChampions.js') }}"></script>

{% endblock %}
