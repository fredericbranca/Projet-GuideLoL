{% extends 'base.html.twig' %}

{% block title %}Créer un guide
{% endblock %}

{% block additional_css %}
	<link rel="stylesheet" href="{{ asset('css/guide.css') }}">
{% endblock %}

{% block body %}

	<div
		id="new-guide">

		{# Sidebar #}
		<div class="new-guide-sidebar">
			<div class="new-guide-sidebar__header">
				Création d'un guide
			</div>
			<div class="new-guide-sidebar__nav">
				<span id="nav-config" class="current">Configuration</span>
				<span id="nav-builder">Construction</span>
			</div>
			<div class="new-guide-sidebar_actions">
				<span class="flat-btn split" id="action-sauvegarder">Sauvegarder</span>
				<span class="flat-btn split margin-left-2" id="action-previsualisation">Prévisualisation</span>
				<span class="flat-btn full" id="action-publier">Publier</span>
			</div>
		</div>

		{{ form_start(form) }}
		{# Container de la première partie du guide (configuration) #}
		<div
			class="new-guide-config">
			{# Ajout d'un titre #}
			<div class="new-guide-config__title">
				{{ form_label(form.titre)}}
				{{ form_widget(form.titre)}}
				{{ form_errors(form.titre)}}
			</div>

			{# Choix du rôle #}
			<div class="new-guide-config__role">
				{{ form_label(form.voie)}}
				{{ form_widget(form.voie)}}
				{{ form_errors(form.voie)}}
			</div>

			{# Choix du Champion #}
			<div class="new-guide-config__champion">
				<div style="display:flex; flex-wrap: wrap; width: 60%; height: 200px; overflow: auto;">
					{% for champion in form.champion %}
						<div>
							{{ form_widget(champion) }}
							{# génère le bouton radio #}
							<label for="{{ champion.vars.id }}">
								<img style="width: 40px; height: auto" src="{{ img_url }}/champion/{{ champions[champion.vars.value].image }}.webp" alt="{{ champions[champion.vars.value].name }}">
							</label>
						</div>
					{% endfor %}
				</div>
				{# affiche les erreurs #}
				{{ form_errors(form.champion) }}
			</div>
		</div>

		<div class="new-guide-builder">

			<div class="new-guide-builder__menu">
				<span id="menu-sorts-invocateur-container" class="current">Sorts d'invocateur</span>
				<span id="menu-items-container">Items</span>
				<span id="menu-competences-container">Compétences</span>
				<span id="menu-runes-container">Runes</span>
			</div>

			{# Choix des summoner spells #}
			<div class="new-guide-builder__sorts-invocateur-container">
				<div class="new-guide-builder__container"></div>
				<span class="flat-btn add-group">Ajouter d'un groupe de Sorts</span>
			</div>

			{# Choix des items #}
			<div class="new-guide-builder__items-container">
				<div class="new-guide-builder__container"></div>
				<span class="flat-btn add-group">Ajouter d'un ensemble d'Items</span>
			</div>

			{# Choix des compétences #}
			<div class="new-guide-builder__competences-container">
				<div class="new-guide-builder__container"></div>
				<span class="flat-btn add-group">Ajouter d'un groupe de Compétences</span>
			</div>

			{# Choix des runes #}
			<div class="new-guide-builder__runes-container">
				<div class="new-guide-builder__container"></div>
				<span class="flat-btn add-group">Ajouter d'un groupe de Runes</span>
			</div>

		</div>

		{{ form_widget(form._token) }}
		<button style="display: none" type="submit" id="guide_Valider" name="guide[Valider]"/>

	</form>

</div>

<script src="{{ asset('js/guide.js') }}"></script>

{% endblock %}
